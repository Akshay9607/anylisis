const { spawn } = require('child_process');

function runPythonScript(dataToSend) {
  return new Promise((resolve, reject) => {
    const pythonProcess = spawn('python', ['./my_script.py']);
    pythonProcess.stdout.on('data', (data) => {
      resolve(data.toString().trim());
    });
    pythonProcess.on('error', (error) => {
      reject(error);
    });
    pythonProcess.stdin.write(dataToSend + '\n');
    pythonProcess.stdin.end();
  });
}

const dataToSend =  [{"name":"सह्याद्री शिष्य","username":"@riverwhichdo","tweet":"Replying to  @ficussg  and  @somnath1978 Mumbai pune region topples any other region of india for industries and even IT. Innovation is difficult to measure, but still it is in 2nd or 3rd place. ","time":"10:07:32 am","date":"7/26/2023"},{"name":"Kushal Sarda","username":"@kdsarda","tweet":"Replying to  @krishna0302 Good initiative. This should be done by all cities like BKC in Mumbai, Hinjewadi in Pune ","time":"10:07:44 am","date":"7/26/2023"},{"name":"Aditya Pittie ","username":"@PittieAditya","tweet":"It was a delight to meet the dynamic, erudite and eloquent  @shweta_shalini  ji in Pune!  It was a stimulating and invigorating interaction!  @BJP4Maharashtra ","time":"10:08:08 am","date":"7/26/2023"},{"name":"Modular House","username":"@house_modular","tweet":"Are you considering covering your rooftop during the monsoon? try out #ModularHouse are Pune’s Drywall & Prefab Construction Company's #RooftopExtension Features; No bricks, no plaster, min water, Lightweight,Ecofriendly,Fast, Flexible, Cost effective For more details 9822873463 ALT ","time":"10:08:38 am","date":"7/26/2023"},{"name":"Karl Aguirre","username":"@KarEdiAguiMor","tweet":"Replying to  @Pocsita Pero ahí andan diciendo que el mueble es Jorge, mínimo el cocina, pero este PuÑe ton...    ","time":"10:08:44 am","date":"7/26/2023"},{"name":"Anand Swarup","username":"@AspenPune52973","tweet":"Replying to  @jayy2626  and  @aajtak संस्कार हीन होते जा रहा है इसलिए संस्कार चाहिए  और कांग्र ेस देश की संस्कृति मिटाना चाहती है अब तक 70 सालों में इन्होंने wohi to Kiya Jo Kam अंग्रेज पूरा नहीं कर पाईं वो काम उन्होंने बनाई हुई khangress कर रही है प प्पू और बार बाला का इसमें बहुत बड़ा योगदान है  जनता सब जान गए है ","time":"10:09:08 am","date":"7/26/2023"},{"name":"Mumbai Hiker","username":"@mumbaihiker","tweet":"#mumbai #pune treks and trips july 29th 30th 2023 mumbaihikers.org #mumbai #pune treks and trips july 29th 30th 2023 - Mumbai Hikers Network Date Location Grade Cost Contact Person Phone Group 27th 30th July 2023 Amboli: Herpetofauna special Easy 11,750 Organiser 9969440476 OIKOESSENCE ","time":"10:09:14 am","date":"7/26/2023"},{"name":"SCMS Pune Official","username":"@SCMSPune","tweet":"An interesting &thought provoking session by Ms Navya Nanda was organised by the Placement Cell of SCMS Pune. The session centered around Entrepreneurship, Financial Importance, Self-Care, Self-Worth, and Self-Importance. #Guestlecture #NavyaNanda #YuvaaRoadshow #YouGrowgirl Symbiosis International (Deemed University) and symbiosis.set ","time":"10:09:26 am","date":"7/26/2023"},{"name":"ARKChem Systems","username":"@ArkchemS72759","tweet":"ARKCHEM Systems provides consultancy services to clients  https://arkchem.in  #arkchemsystems #turnkeysystems #distillationsystems #evaporationsystems #industrialdryingsystem #industrialproducts #industrialprojects #machinery #MIDC #Chakan #PCMC #Pune #India 1 ","time":"10:10:53 am","date":"7/26/2023"},{"name":"Usawa Literary Review","username":"@usawamag","tweet":"*The Coincidence Plot: Book Launch, with Anil Menon*  *Where:* Pagdandi Bookstore, Baner, Pune *When:* Sunday, 30th July at 6 PM  Pune Writers' Group is proud to launch Anil Menon's latest novel 'The Coincidence Plot'. 1 3 ","time":"10:13:06 am","date":"7/26/2023"},{"name":"ARKChem Systems","username":"@ArkchemS72759","tweet":"ARKCHEM Systems provides consultancy services to clients  https://arkchem.in  #arkchemsystems #turnkeysystems #distillationsystems #evaporationsystems #industrialdryingsystem #industrialproducts #industrialprojects #machinery #MIDC #Chakan #PCMC #Pune #India 1 ","time":"10:14:17 am","date":"7/26/2023"},{"name":"SOMC","username":"@MITWPU_SOMC","tweet":"Congratulations Freshers!!   With the enormous response to our 'Show Your Talent' contest it was tough to decide the winners... but these guys were exceptional  Let's give them a big hand by liking this post  #freshers #mitwpu #pune #talent #media #talentshow #collegelife 1 2 ","time":"10:14:29 am","date":"7/26/2023"},{"name":"TechieTrader","username":"@rk_onkar","tweet":"ACE case study :  Everywhere in Pune I see ACE machines working on Metro projects. Strong fundamentals and multiple entries in chart. ","time":"10:14:41 am","date":"7/26/2023"},{"name":"Official IBS Pune","username":"@PuneIbs","tweet":"Replying to  @PuneIbs #IBS #IBSPune #MBA #PGPM #Alumini #PersonalityDevelopment #Perception #OrganisationalBehaviour #GuestSession ","time":"10:15:05 am","date":"7/26/2023"}]

runPythonScript(JSON.stringify(dataToSend))
  .then((result) => {
    console.log('Result from Python:', result);
  })
  .catch((error) => {
    console.error('Error:', error.message);
  });
